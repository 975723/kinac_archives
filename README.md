# したらば掲示板 datファイル HTML変換ツール

したらば掲示板のdatファイルを美しいHTMLページに変換するPythonスクリプトです。

## 機能

- ✅ **スレッドタイトル自動抽出** - datファイルからスレッドタイトルを自動取得
- ✅ **投稿者ID表示** - 投稿者の識別情報を正確に表示
- ✅ **アンカーリンク** - `>>2`形式の投稿参照を該当レスにジャンプするリンクに変換
- ✅ **画像サムネイル** - 画像URLを自動検出してサムネイル表示
- ✅ **外部リンク自動化** - プレーンURLやしたらば形式リンクを自動変換
- ✅ **レスポンシブデザイン** - スマートフォンとPC両方に対応
- ✅ **Twitter画像対応** - `?format=jpg`形式のTwitter画像も表示
- ✅ **重複除去** - 同一画像の重複サムネイル表示を防止

## フォルダ構成

```
restore_shitaraba/
├── src/                    # ソースコード
│   └── dat_to_html.py     # メイン変換スクリプト
├── data/                   # 入力データ
│   ├── *.dat              # したらば掲示板のdatファイル
├── output/                 # 変換結果
│   ├── *.html             # 生成されたHTMLファイル
├── examples/               # サンプル
│   └── sample_output.html # サンプル出力
├── docs/                   # ドキュメント
└── README.md              # このファイル
```

## 使用方法

### 基本的な使い方

```bash
python3 src/dat_to_html.py data/your_file.dat
```

### 出力ファイル名を指定

```bash
python3 src/dat_to_html.py data/your_file.dat output/custom_name.html
```

### 例

```bash
# datファイルを変換（自動ファイル名）
python3 src/dat_to_html.py data/jbbs.livedoor.jp%2Fanime%2F11188_1716630941.dat

# 出力: 11188_1716630941.html
```

## 出力ファイル名規則

入力ファイル名から自動的にクリーンな出力ファイル名を生成します：

```
入力: jbbs.livedoor.jp%2Fanime%2F11188_1716630941.dat
出力: 11188_1716630941.html
```

## 対応する画像形式

- **通常の画像**: `.jpg`, `.jpeg`, `.png`, `.gif`, `.webp`
- **Twitter画像**: `?format=jpg&name=orig` 形式
- **画像ホスティング**: `imgur.com`, `pbs.twimg.com`

## したらば掲示板のdatファイル形式

このツールは以下の形式に対応しています：

```
レス番号<>投稿者名<>メール<>投稿日時<>投稿内容<>スレッドタイトル<>投稿者ID
```

## HTML特徴

- **掲示板風デザイン** - したらば掲示板に近い見た目
- **薄いピンク色のタイトル** - 美しい色合い
- **スマートフォン対応** - モバイルフレンドリー
- **アンカーリンク** - クリックで該当レスにジャンプ
- **画像サムネイル** - クリックで元サイズ表示

## GitHub Pages での公開

生成されたHTMLファイルはGitHub Pagesで直接公開できます：

1. GitHubリポジトリにHTMLファイルをアップロード
2. Settings → Pages で公開設定
3. `https://username.github.io/repository-name/11188_1716630941.html` でアクセス可能

## 必要な環境

- Python 3.6以上
- 標準ライブラリのみ使用（追加インストール不要）

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 更新履歴

- **v1.0.0** - 基本的なdat→HTML変換機能
- **v1.1.0** - アンカーリンク、画像サムネイル対応
- **v1.2.0** - Twitter画像、レスポンシブデザイン対応
- **v1.3.0** - プレーンURL自動リンク化
- **v1.4.0** - スマートフォン表示最適化、薄いピンク色タイトル